@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: var(--font-noto-sans-thai-looped), sans-serif;
    font-weight: 400; /* Regular for paragraphs */
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-noto-sans-thai-looped), sans-serif;
    font-weight: 700; /* Bold for headings */
  }
}

@layer components {
  /* WordPress Gallery Styles - Scoped to prose to override typography defaults */
  .prose .wp-block-gallery,
  .prose .gallery {
    @apply grid grid-cols-2 md:grid-cols-3 gap-6 my-12 list-none p-0 !important;
    display: grid !important;
  }
  
  /* Critical Fix: Single image in a gallery should take full width */
  .prose .wp-block-gallery figure:last-child:first-child,
  .prose .gallery .gallery-item:last-child:first-child {
    grid-column: 1 / -1 !important;
  }

  /* Column overrides */
  .prose .wp-block-gallery.columns-1,
  .prose .gallery.gallery-columns-1 {
    @apply grid-cols-1 !important;
  }
  .prose .wp-block-gallery.columns-2,
  .prose .gallery.gallery-columns-2 {
    @apply grid-cols-2 !important;
  }
  .prose .wp-block-gallery.columns-3,
  .prose .gallery.gallery-columns-3 {
    @apply grid-cols-2 md:grid-cols-3 !important;
  }
  .prose .wp-block-gallery.columns-4,
  .prose .gallery.gallery-columns-4 {
    @apply grid-cols-2 md:grid-cols-4 !important;
  }

  /* Gallery Items */
  .prose .wp-block-gallery .blocks-gallery-item,
  .prose .wp-block-gallery figure,
  .prose .gallery .gallery-item {
    @apply m-0 p-0 list-none w-full !important;
    width: 100% !important;
  }

  /* Images within gallery */
  .prose .wp-block-gallery img,
  .prose .gallery img {
    @apply w-full h-full aspect-[4/3] object-cover rounded-2xl shadow-sm hover:shadow-xl hover:scale-[1.02] transition-all duration-300 !m-0 !important;
  }

  /* Standard Images & Alignment support */
  .prose .alignleft {
    @apply float-left mr-8 mb-6 max-w-[45%] md:max-w-[40%] !important;
  }

  .prose .alignright {
    @apply float-right ml-8 mb-6 max-w-[45%] md:max-w-[40%] !important;
  }

  .prose .aligncenter {
    @apply mx-auto my-10 block !important;
  }
  
  /* Default standalone images: Full width & Centered */
  .prose img:not(.emoji) {
    @apply w-full h-auto object-cover rounded-3xl my-8 shadow-md transition-all duration-300 block mx-auto;
  }

  .prose figcaption {
    @apply text-center text-gray-500 text-sm mt-3 font-light italic;
  }

  /* Clear floats */
  .prose::after {
    content: "";
    display: table;
    clear: both;
  }

  /* Remove prose default styling for gallery lists */
  .prose .wp-block-gallery li {
    @apply p-0 m-0 before:content-none !important;
  }
}
